<div class="profile-vertical-container">
  <div class="profile-vertical-card">
    <div class="profile-header-block">
      <div class="profile-avatar">
        <i class="fas fa-user-circle avatar-icon"></i>
      </div>
      <div class="profile-name">{{ user.name }} {{ user.lastName }}</div>
      <div class="profile-email">
        <i class="fas fa-envelope"></i>
        {{ user.email }}
      </div>
      <div class="user-badge">{{ getRoleName(user.role) }}</div>
    </div>
    <div class="profile-details-block">
      <h2 class="details-title">Información Personal</h2>
      <ul class="detail-list">
        <li class="detail-item">
          <span class="detail-label">Nombre:</span>
          <span class="detail-value">{{ user.name }}</span>
        </li>
        <li class="detail-item">
          <span class="detail-label">Apellido:</span>
          <span class="detail-value">{{ user.lastName }}</span>
        </li>
        <li class="detail-item">
          <span class="detail-label">Correo electrónico:</span>
          <span class="detail-value">{{ user.email }}</span>
        </li>
      </ul>
    </div>
    <div class="profile-security-block">
      <h2 class="activation-title">Configuración de Seguridad</h2>
      <form [formGroup]="profileForm" (ngSubmit)="onSubmitCode()">
        <div class="form-group">
          <label class="form-label" for="activationCode">Código de Activación</label>
          <input 
            id="activationCode"
            class="form-input"
            formControlName="code" 
            type="number" 
            placeholder="Ingresa tu código de 4 dígitos"
            maxlength="4">
          <small class="form-hint">
            <i class="fas fa-info-circle"></i>
            Este código se usará para verificar tu identidad
          </small>
        </div>
        <div class="form-actions" *ngIf="showFormActions">
          <button 
            type="submit" 
            class="btn-primary"
            [disabled]="loading || !profileForm.get('code')?.valid">
            <span *ngIf="!loading">Guardar Código</span>
            <span *ngIf="loading">Procesando...</span>
          </button>
        </div>
      </form>
      <div class="success-message" *ngIf="showSuccessMessage">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h3>¡Configuración completada!</h3>
        <p>Tu código de activación ha sido guardado exitosamente.</p>
        <button class="btn-secondary" (click)="showSuccessMessage = false">Aceptar</button>
      </div>
    </div>
    <div class="profile-footer-block">
      <button class="btn-back" (click)="goBack()">
        <i class="fas fa-arrow-left"></i>
        Volver
      </button>
    </div>
  </div>
</div>